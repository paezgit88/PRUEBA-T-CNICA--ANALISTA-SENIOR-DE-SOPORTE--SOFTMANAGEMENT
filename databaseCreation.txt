
/*create database*/
CREATE DATABASE tienda;
ALTER DATABASE tienda charset=utf8;

/*select database*/
USE tienda;

/*start tables creation*/
CREATE TABLE PRODUCTOS (
	CODIGO_PRODUCTO int PRIMARY KEY AUTO_INCREMENT NOT NULL,
    DESC_PRODUCTO VARCHAR(25)
);

CREATE TABLE DEPARTAMENTO (
	CODIGO_DEPTO int PRIMARY KEY AUTO_INCREMENT NOT NULL,
    DESCRIPCION_DPTO VARCHAR(25)
);

CREATE TABLE CIUDAD (
	COD_CIUDAD int PRIMARY KEY AUTO_INCREMENT NOT NULL,
    CODIGO_DEPTO int  NOT NULL,
    DESCRIPCION_CIUDAD VARCHAR(25),
    FOREIGN KEY(CODIGO_DEPTO) REFERENCES DEPARTAMENTO(CODIGO_DEPTO)
);

CREATE TABLE USUARIOS (
	CODIGO_USUARIO int PRIMARY KEY AUTO_INCREMENT NOT NULL,
    USUARIO VARCHAR(25),
    CLAVE VARCHAR(100)
);

CREATE TABLE CLIENTES (
	ID_CLIENTE int PRIMARY KEY AUTO_INCREMENT NOT NULL,
    TIPO_IDENTIFICACION VARCHAR(25),
    NUMERO_IDENTIFICACION VARCHAR(25),
    NOMBRES VARCHAR(25),
    APELLIDOS VARCHAR(25),
    CARGO VARCHAR(20),
    MAIL VARCHAR(25),
    DIRECCION VARCHAR(25),
    TELEFONO VARCHAR(20),
    CODIGO_CIUDAD int  NOT NULL,
    CODIGO_USUARIO int  NOT NULL,
     FOREIGN KEY(CODIGO_CIUDAD) REFERENCES CIUDAD(COD_CIUDAD),
    FOREIGN KEY(CODIGO_USUARIO) REFERENCES USUARIOS(CODIGO_USUARIO)
);

CREATE TABLE  VENTAS (
	ID_CLIENTE int PRIMARY KEY NOT NULL,
    COD_CIUDAD int  NOT NULL,
    CODIGO_PRODUCTO int NOT NULL,
    FECHA_VENTA DATETIME,
    VALOR_VENTA DOUBLE,
    CANTIDAD_PRODUCTO int,
    FOREIGN KEY(COD_CIUDAD) REFERENCES CIUDAD(COD_CIUDAD),
    FOREIGN KEY(CODIGO_PRODUCTO) REFERENCES PRODUCTOS(CODIGO_PRODUCTO)
);

/*finish table creation*/